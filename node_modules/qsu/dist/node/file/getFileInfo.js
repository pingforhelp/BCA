import{stat as e}from"fs/promises";import{dirname as i,resolve as r}from"path";import{getFileExtension as t}from"./getFileExtension.js";import{fileSizeFormat as o}from"../../format/fileSizeFormat.js";import{getFileName as s}from"./getFileName.js";export async function getFileInfo(m){const n=e=>Math.floor(new Date(e).getTime()/1e3);try{const a=await e(m);return{success:!0,isDirectory:a.isDirectory(),ext:t(m),size:a.size,sizeHumanized:o(a.size),name:s(m),dirname:i(m),path:r(m),created:n(a.ctime),modified:n(a.mtime)}}catch(e){if(e instanceof Error)throw new Error(e.message)}return{success:!1,isDirectory:!1,ext:null,size:0,sizeHumanized:"0 Bytes",name:"unknown",dirname:i(m),path:m,created:-1,modified:-1}}